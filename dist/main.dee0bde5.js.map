{"version":3,"sources":["main.js"],"names":["x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","logoType","url","color","$siteList","$","$lastLi","find","colorArr","simplifyUrl","replace","randomColor","length","Math","floor","random","render","remove","forEach","node","index","$li","insertBefore","css","on","console","log","window","open","e","stopPropagation","splice","prompt","indexOf","push","setItem","stringify","onbeforeunload","string","document","key","i","toLowerCase"],"mappings":"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","file":"main.dee0bde5.js","sourceRoot":"..\\src","sourcesContent":["const x = localStorage.getItem('x')\r\n\r\nconst xObject = JSON.parse(x)\r\n\r\nconst hashMap = xObject || [{\r\n        logo: 'J',\r\n        logoType: 'text',\r\n        url: 'https://juejin.im',\r\n        color:'#ff99cc'\r\n    },\r\n    {\r\n        logo: 'B',\r\n        logoType: 'text',\r\n        url: 'https://bilibili.com',\r\n        color:'#66cccc'\r\n    }\r\n]\r\nconst $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')\r\n\r\nconst colorArr = [\"#66cccc\", \"#ccff66\", \"#ff99cc\", \"#ff9999\", \"#ffcc99\", \"#ff6666\", \"#ffff66\", \"#666699\", \"#ff9900\", \"#66cccc\", \"#99cc33\", \"#993366\", \"#cccc33\", \"#666633\", \"#ccff00\"];\r\n\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('https://', ''\r\n            .replace('http://', ''))\r\n        .replace('www.', '')\r\n        .replace('/\\/.*/', '')\r\n}\r\n\r\nconst randomColor = () => {\r\n    let length = colorArr.length;\r\n    return Math.floor(Math.random() * (length - 1));\r\n}\r\n// console.log(colorArr[randomColor()])\r\n\r\nconst render = () => {\r\n    $siteList.find('li:not(.last)').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`<li>    \r\n                <div class=\"site\">\r\n                    <div class=\"logo\">${node.logo[0]}</div>\r\n                    <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n                    <div class=\"close\">\r\n                        <svg class=\"icon\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-close\"></use>\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n        </li>`).insertBefore($lastLi)\r\n        //随机设置颜色\r\n        $li.find('.logo').css(\"color\",node.color)\r\n        $li.on('click', () => {\r\n            console.log(node.url)\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click', '.close', (e) => {\r\n            e.stopPropagation() //阻止冒泡\r\n            hashMap.splice(index, 1)\r\n            render()\r\n        })\r\n\r\n    })\r\n}\r\n\r\nrender()\r\n\r\n$(\".addButton\")\r\n    .on('click', () => {\r\n        let url = window.prompt(\"请输入您想要添加的网址\")\r\n        if (url.indexOf('https://') !== 0) {\r\n            url = 'https://www.' + url\r\n        }\r\n        hashMap.push({\r\n            logo: `${simplifyUrl(url)[0]}`,\r\n            logoType: 'text',\r\n            url: `${url}`,\r\n            color:`${colorArr[randomColor()]}`\r\n        })\r\n        localStorage.setItem('x', JSON.stringify(hashMap))\r\n        render()\r\n    })\r\n\r\nwindow.onbeforeunload = () => {\r\n    const string = JSON.stringify(hashMap)\r\n    localStorage.setItem('x', string)\r\n}\r\n\r\n$(document).on('keypress', (e) => {\r\n    const {\r\n        key\r\n    } = e\r\n    for (let i = 0; i < hashMap.length; i++) {\r\n        if (hashMap[i].logo.toLowerCase() === key) {\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n})"]}